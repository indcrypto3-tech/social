# ============================================
# AUTOPOSTR BACKEND - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ============================================
# APPLICATION
# ============================================
PORT=4000
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:4000

# ============================================
# DATABASE (PostgreSQL)
# ============================================
# Production: Use your hosted PostgreSQL URL (Supabase, Neon, Railway, etc.)
# Local: postgresql://postgres:postgres@localhost:54322/postgres
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# ============================================
# SUPABASE
# ============================================
# Get these from: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_URL=http://127.0.0.1:54321
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# ============================================
# REDIS (Upstash recommended for production)
# ============================================
# Production: Use Upstash Redis URL
# Get from: https://console.upstash.com/
# Format: rediss://default:xxxxx@xxxxx.upstash.io:6379
# Local: redis://localhost:6379
REDIS_URL=redis://localhost:6379

# ============================================
# SESSION & SECURITY
# ============================================
# Session TTL in hours (default: 168 = 7 days)
SESSION_TTL_HOURS=168

# Encryption key for storing OAuth tokens (32 bytes)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your-32-byte-encryption-key-here-generate-with-openssl

# Worker/Cron authentication secrets
# Generate with: openssl rand -hex 32
WORKER_SECRET=your-worker-secret-here
CRON_SECRET=your-cron-secret-here

# ============================================
# OAUTH - FACEBOOK / INSTAGRAM
# ============================================
# Get from: https://developers.facebook.com/apps/
# Required permissions: pages_show_list, pages_read_engagement, instagram_basic, instagram_content_publish
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
FACEBOOK_CALLBACK_URL=http://localhost:4000/api/oauth/facebook/callback

# ============================================
# OAUTH - LINKEDIN
# ============================================
# Get from: https://www.linkedin.com/developers/apps/
# Required scopes: r_liteprofile, r_emailaddress, w_member_social
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret
LINKEDIN_CALLBACK_URL=http://localhost:4000/api/oauth/linkedin/callback

# ============================================
# OAUTH - X (TWITTER)
# ============================================
# Get from: https://developer.twitter.com/en/portal/dashboard
# Required scopes: tweet.read, tweet.write, users.read, offline.access
X_CLIENT_ID=your-x-client-id
X_CLIENT_SECRET=your-x-client-secret
X_CALLBACK_URL=http://localhost:4000/api/oauth/twitter/callback

# ============================================
# AI - OPENAI
# ============================================
# Get from: https://platform.openai.com/api-keys
# Used for: Caption generation, hashtag suggestions, content improvement
OPENAI_API_KEY=sk-your-openai-api-key

# ============================================
# PAYMENTS - STRIPE
# ============================================
# Get from: https://dashboard.stripe.com/apikeys
# Test keys start with sk_test_, live keys with sk_live_
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ============================================
# MONITORING (Optional)
# ============================================
# Sentry for error tracking
# Get from: https://sentry.io/
SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# ============================================
# FEATURE FLAGS (Optional)
# ============================================
# Enable/disable features
ENABLE_AI_FEATURES=true
ENABLE_ANALYTICS_SYNC=true
ENABLE_MEDIA_CLEANUP=true

# ============================================
# RATE LIMITING
# ============================================
# Requests per minute for AI endpoints
AI_RATE_LIMIT_PER_MINUTE=10

# ============================================
# DEVELOPMENT ONLY
# ============================================
# Set to true to see detailed logs
DEBUG=false
